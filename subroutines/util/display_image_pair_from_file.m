function display_image_pair_from_file(filename, ini_idx, fin_idx, which, fill, color)
% function display_image_pair_from_file(filename, ini_idx, fin_idx, which, fill. color)
%
% Simple plot of image pair with area outside ROI set to 0
%
% Arguments:
%   filename: data file name, as generated by prep()
%   ini_idx, fin_idx: index of first, last images in pair
%   which: Optional string, select which kind of display, options are
%       'subplot' and 'toggle' 
%   fill: Optional, set true to fill non-sand pixels as in PIV routine
%       (which also means displaying equalized grayscale)
% %

% set defaults
if nargin < 4; which = 'subplot'; end
if nargin < 5; fill = false; end
if nargin < 6; color = false; end

% display!
data = matfile(filename, 'Writable', false);
if ~fill
    ini = data.img(:, :, :, ini_idx);
    fin = data.img(:, :, :, fin_idx);
else
    ini = double(data.img_eql(:, :, ini_idx));
    fin = double(data.img_eql(:, :, fin_idx));
end    
    
display_image_pair(...
    data.x, ...
    data.y, ...
    ini, ...
    data.mask(:, :, ini_idx), ...
    fin, ...
    data.mask(:, :, fin_idx), ...
    which, ...
    fill);